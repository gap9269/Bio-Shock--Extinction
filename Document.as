//http://www.youtube.com/watch?v=k38YrVxXkSMpackage  {		import flash.display.MovieClip;	import flash.events.*;	import flash.ui.Keyboard;		public class Document extends MovieClip {		private var vx:Number;		private var vy:Number;				public function Document() {			// assign default values			marker_mc.visible=false;			vx=0;			vy=0;						// set focus for keys			stage.focus=stage;						// add event listeners			addEventListener(Event.ENTER_FRAME,doEnterFrame);			stage.addEventListener(KeyboardEvent.KEY_DOWN, doKeyDown);			stage.addEventListener(KeyboardEvent.KEY_UP,doKeyUp);					}				private function doEnterFrame(e:Event):void{			// gravitate player			vy += 2;			// move the player			player_mc.x += vx;			player_mc.y += vy;						// process collisions			processCollisions();						// scroll stage			scrollStage();					}				private function doKeyDown(e:KeyboardEvent):void{			switch(e.keyCode){				case 37: // left arrow				vx=-7;				break;								case 38: // up arrow				if (vy ==0) vy=-20;				break; 								case 39: // right arrow				vx=7;				break;								default:			}		}				private function doKeyUp(e:KeyboardEvent):void{			switch(e.keyCode){				case 37: // left arrow				case 39: // right arrow				vx=0;				break;			}		}				private function processCollisions():void{			// when player is falling			if(vy > 0){								// respawn if player fell off stage				if(player_mc.y > stage.stageHeight){					player_mc.x = marker_mc.x;					player_mc.y = marker_mc.y;					boundaries_mc.x=0;					boundaries_mc.y=0;					vy=0;				} else{					// otherwise process collisions with boundaries					var collision:Boolean = false;					if(boundaries_mc.hitTestPoint(player_mc.x,player_mc.y,true)){						collision = true;					}										if(collision){						while(collision){							player_mc.y -= 0.1;							collision = false;							if(boundaries_mc.hitTestPoint(player_mc.x,player_mc.y,true)){								collision = true;							}						}						vy=0;					}				}							}		}				private function scrollStage():void{			boundaries_mc.x += (stage.stageWidth * 0.5)  - player_mc.x;			player_mc.x = stage.stageWidth * 0.5;		}	}	}